const r=document.querySelector(".js-input"),g=document.querySelector(".js-button-search"),p=document.querySelector(".js-button-reset"),l=document.querySelector(".js-button-delete-all-fav");let o=[];function u(e){const n=`https://api.jikan.moe/v4/anime?q=${e}`;fetch(n).then(t=>t.json()).then(t=>{o=t.data,c(o)})}function c(e){const n=document.querySelector(".js-container-results");n.innerHTML="";const t=d();for(let i=0;i<e.length;i++)t.findIndex(a=>a.mal_id===e[i].mal_id)!==-1?n.innerHTML+=`<li class="container__section-results-div_list-results-element js-element-list favorite-anime" id="${e[i].mal_id}">
                <img src="${e[i].images.jpg.image_url}" alt="Foto de la portada de ${e[i].title}">
                <p>${e[i].title}</p>
            </li>`:n.innerHTML+=`<li class="container__section-results-div_list-results-element js-element-list" id="${e[i].mal_id}">
                <img src="${e[i].images.jpg.image_url}" alt="Foto de la portada de ${e[i].title}">
                <p>${e[i].title}</p>
            </li>`,e[i].images.jpg.image_url==="https://cdn.myanimelist.net/img/sp/icon/apple-touch-icon-256.png"&&(e[i].images.jpg.image_url="https://placehold.co/200x300?text=Not+Found");v()}function h(e){e.preventDefault(),r.value&&u(r.value)}g.addEventListener("click",h);function s(e){const n=document.querySelector(".js-container-favorite");n.innerHTML="";for(let t=0;t<e.length;t++)n.innerHTML+=`<li class="container__section-favorite-div favorite-anime" id="${e[t].mal_id}">
                                            <img src="${e[t].images.jpg.image_url}" alt="Foto de la portada de ${e[t].title}">
                                            <p>${e[t].title}</p>
                                            <i id="${e[t].mal_id}" class="fa-solid fa-square-xmark js-button-remove-favorite"></i>
                                        </li>`,e[t].images.jpg.image_url==="https://cdn.myanimelist.net/img/sp/icon/apple-touch-icon-256.png"&&(e[t].images.jpg.image_url="https://placehold.co/200x300?text=Not+Found");v(),L(),e.length?l.classList.remove("hidden"):l.classList.add("hidden")}function S(e){const n=d(),t=parseInt(e.currentTarget.id),i=o.find(a=>t===a.mal_id);n.findIndex(a=>a.mal_id===t)===-1&&n.push(i),s(n),f(n),c(o),l.classList.remove("hidden")}function v(){const e=document.querySelectorAll(".js-element-list");for(const n of e)n.addEventListener("click",S)}function _(){const e=d();e!==null?s(e):u()}_();function d(){return localStorage.getItem("FavoriteAnimes")?JSON.parse(localStorage.getItem("FavoriteAnimes")):[]}function f(e){localStorage.setItem("FavoriteAnimes",JSON.stringify(e))}function F(e){e.preventDefault(),localStorage.removeItem("FavoriteAnimes");const n=document.querySelector(".js-container-favorite");n.innerHTML="";const t=document.querySelector(".js-container-results");t.innerHTML="",r.value="",l.classList.add("hidden")}p.addEventListener("click",F);function j(e){const n=d(),t=parseInt(e.currentTarget.id),i=n.filter(m=>m.mal_id!==t);f(i),c(o),s(i)}function L(){const e=document.querySelectorAll(".js-button-remove-favorite");for(const n of e)n.addEventListener("click",j)}function I(){localStorage.removeItem("FavoriteAnimes"),c(o),s([])}l.addEventListener("click",I);
//# sourceMappingURL=main.js.map
